<!DOCTYPE html>
<html lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <title>SASSA Application Form</title>
      <link rel="stylesheet" href="style1.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
      <link href="css/responsive.css" rel="stylesheet" />
   </head>
   <body>
      <div class="container">
         <header>SASSA Application Form</header>
         <button id="cancelButton">Cancel Application</button>
         <div class="progress-bar">
            <div class="step">
               <p>
                  Personal
               </p>
               <div class="bullet">
                  <span>1</span>
               </div>
               <div class="check fas fa-check"></div>
            </div>
            <div class="step">
               <p>
                  Contact
               </p>
               <div class="bullet">
                  <span>2</span>
               </div>
               <div class="check fas fa-check"></div>
            </div>
            <div class="step">
               <p>
                  Grant
               </p>
               <div class="bullet">
                  <span>3</span>
               </div>
               <div class="check fas fa-check"></div>
            </div>
            <div class="step">
               <p>
                  Submit
               </p>
               <div class="bullet">
                  <span>4</span>
               </div>
               <div class="check fas fa-check"></div>
            </div>
         </div>
         <div class="form-outer">
            <form action="#" id="sassaForm">
               <div class="page slide-page">
                  <div class="title">
                     Personal Information:
                  </div>
                  <div class="field">
                     <div class="label">
                        First Name
                     </div>
                     <input type="text" id="firstName" required>
                  </div>
                  <div class="field">
                     <div class="label">
                        Surname
                     </div>
                     <input type="text" id="surname" required>
                  </div>
                  <div class="field">
                     <div class="label">
                        ID Number
                     </div>
                     <input type="text" id="idNumber" required>
                  </div>
                  <div class="field">
                     <div class="label">
                        Date of Birth
                     </div>
                     <input type="date" id="dateOfBirth" required>
                  </div>
                  <div class="field">
                     <button class="firstNext next" type="button">Next</button>
                  </div>
               </div>
               <div class="page">
                  <div class="title">
                     Contact Information:
                  </div>
                  <div class="field">
                     <div class="label">
                        Phone Number
                     </div>
                     <input type="tel" id="phoneNumber" required>
                  </div>
                  <div class="field">
                     <div class="label">
                        Email Address
                     </div>
                     <input type="email" id="emailAddress">
                  </div>
                  <div class="field">
                     <div class="label">
                        Physical Address
                     </div>
                     <input type="text" id="physicalAddress" required>
                  </div>
                  <div class="field btns">
                     <button class="prev-1 prev" type="button">Previous</button>
                     <button class="next-1 next" type="button">Next</button>
                  </div>
               </div>
               <div class="page">
                  <div class="title">
                     Grant Details:
                  </div>
                  <div class="field">
                     <div class="label">
                        Grant Type
                     </div>
                     <select id="grantType" required>
                        <option value="">Select Grant Type</option>
                        <option value="older_persons">Older Person's Grant</option>
                        <option value="disability">Disability Grant</option>
                        <option value="child_support">Child Support Grant</option>
                        <option value="foster_child">Foster Child Grant</option>
                        <option value="care_dependency">Care Dependency Grant</option>
                     </select>
                  </div>
                  <div class="field">
                     <div class="label">
                        Monthly Income
                     </div>
                     <input type="number" id="monthlyIncome" required>
                  </div>
                  <div class="field">
                     <div class="label">
                        Employment Status
                     </div>
                     <select id="employmentStatus" required>
                        <option value="">Select Status</option>
                        <option value="employed">Employed</option>
                        <option value="unemployed">Unemployed</option>
                        <option value="self_employed">Self-employed</option>
                        <option value="retired">Retired</option>
                     </select>
                  </div>
                  <div class="field btns">
                     <button class="prev-2 prev" type="button">Previous</button>
                     <button class="next-2 next" type="button">Next</button>
                  </div>
               </div>
               <div class="page">
                  <div class="title">
                     Review and Submit:
                  </div>
                  <div class="field">
                     <div class="label">
                        Declaration
                     </div>
                     <p>I declare that the information provided is true and correct.</p>
                     <input type="checkbox" id="declaration" required> I agree
                  </div>
                  <div class="field btns">
                     <button class="prev-3 prev" type="button">Previous</button>
                     <button class="submit" type="submit">Submit Application</button>
                  </div>
               </div>
            </form>
         </div>
      </div>
      <script>
const slidePage = document.querySelector(".slide-page");
const nextBtnFirst = document.querySelector(".firstNext");
const prevBtnSec = document.querySelector(".prev-1");
const nextBtnSec = document.querySelector(".next-1");
const prevBtnThird = document.querySelector(".prev-2");
const nextBtnThird = document.querySelector(".next-2");
const prevBtnFourth = document.querySelector(".prev-3");
const submitBtn = document.querySelector(".submit");
const progressText = document.querySelectorAll(".step p");
const progressCheck = document.querySelectorAll(".step .check");
const bullet = document.querySelectorAll(".step .bullet");
let current = 1;

function validateFields(fields) {
    for (let field of fields) {
        if (!field.value.trim()) {
            alert(`Please fill in the ${field.id} field.`);
            return false;
        }
    }
    return true;
}

nextBtnFirst.addEventListener("click", function(event){
  event.preventDefault();
  const fields = [
    document.getElementById('firstName'),
    document.getElementById('surname'),
    document.getElementById('idNumber'),
    document.getElementById('dateOfBirth')
  ];
  if (validateFields(fields)) {
    slidePage.style.marginLeft = "-25%";
    bullet[current - 1].classList.add("active");
    progressCheck[current - 1].classList.add("active");
    progressText[current - 1].classList.add("active");
    current += 1;
  }
});

nextBtnSec.addEventListener("click", function(event){
  event.preventDefault();
  const fields = [
    document.getElementById('phoneNumber'),
    document.getElementById('physicalAddress')
  ];
  if (validateFields(fields)) {
    slidePage.style.marginLeft = "-50%";
    bullet[current - 1].classList.add("active");
    progressCheck[current - 1].classList.add("active");
    progressText[current - 1].classList.add("active");
    current += 1;
  }
});

nextBtnThird.addEventListener("click", function(event){
  event.preventDefault();
  const fields = [
    document.getElementById('grantType'),
    document.getElementById('monthlyIncome'),
    document.getElementById('employmentStatus')
  ];
  if (validateFields(fields)) {
    slidePage.style.marginLeft = "-75%";
    bullet[current - 1].classList.add("active");
    progressCheck[current - 1].classList.add("active");
    progressText[current - 1].classList.add("active");
    current += 1;
  }
});

submitBtn.addEventListener("click", function(event){
  event.preventDefault();
  if (document.getElementById('declaration').checked) {
    bullet[current - 1].classList.add("active");
    progressCheck[current - 1].classList.add("active");
    progressText[current - 1].classList.add("active");
    current += 1;
    setTimeout(function(){
      alert("Your SASSA application has been successfully submitted!");
      window.location.href = 'login.html';
    },800);
  } else {
    alert("Please agree to the declaration before submitting.");
  }
});

prevBtnSec.addEventListener("click", function(event){
  event.preventDefault();
  slidePage.style.marginLeft = "0%";
  bullet[current - 2].classList.remove("active");
  progressCheck[current - 2].classList.remove("active");
  progressText[current - 2].classList.remove("active");
  current -= 1;
});

prevBtnThird.addEventListener("click", function(event){
  event.preventDefault();
  slidePage.style.marginLeft = "-25%";
  bullet[current - 2].classList.remove("active");
  progressCheck[current - 2].classList.remove("active");
  progressText[current - 2].classList.remove("active");
  current -= 1;
});

prevBtnFourth.addEventListener("click", function(event){
  event.preventDefault();
  slidePage.style.marginLeft = "-50%";
  bullet[current - 2].classList.remove("active");
  progressCheck[current - 2].classList.remove("active");
  progressText[current - 2].classList.remove("active");
  current -= 1;
});

document.getElementById('cancelButton').addEventListener('click', function() {
  if (confirm("Are you sure you want to cancel your application?")) {
    window.location.href = 'index.html';
  }
});
      </script>
   </body>
</html>